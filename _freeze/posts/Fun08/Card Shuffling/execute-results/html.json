{
  "hash": "a5cca6b59bc5a4e36526f5c45bbacef7",
  "result": {
    "markdown": "---\ntitle: \"Exploring Card Shuffling: A Visual Journey\"\nauthor: \"Giorgio Luciano and ChatGPT\"\ndate: \"2023-11-12\"\ncategories: \n  - R\n  - fun\n  - cards\n---\n\n\n*Introduction: A Rainy Day, a Father's Passion, and Card Games*\n\nAs a child, on days like today, when raindrops gently tapped against the window pane, my father, armed with a degree in economics and a love for statistics, would weave a world of numbers and cards to pass the time. His eyes would light up with enthusiasm as he shared the intricacies of card games, imparting not just the rules, but a deep appreciation for the unpredictable dance of shuffled decks.\n\n### **Simulating Card Shuffling**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Function to perform a faro shuffle on a deck of cards\nfaro <- function(deck, num_shuffles) {\n  for (i in 1:num_shuffles) {\n    half1 <- deck[1:(length(deck)/2)]\n    half2 <- deck[(length(deck)/2 + 1):length(deck)]\n    deck <- c()\n    for (j in 1:length(half1)) {\n      deck <- c(deck, half1[j], half2[j])\n    }\n  }\n  return(deck)\n}\n\n\n\n# Install the required packages if not already installed\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) {\n  install.packages(\"ggplot2\")\n}\n\n# Load the necessary packages\nlibrary(ggplot2)\n\n# Function to simulate the position of the ace of hearts after shuffling\nsimulate_ace_of_hearts_position <- function(num_shuffles, num_simulations) {\n  original_deck <- 1:52\n  ace_position <- numeric(num_simulations)\n  \n  for (i in 1:num_simulations) {\n    shuffled_deck <- faro(original_deck, num_shuffles)\n    ace_position[i] <- which(shuffled_deck == 12)\n  }\n  \n  return(ace_position)\n}\n\n# Simulation parameters\nnum_shuffles_list <- seq(1, 30, by = 1)\nnum_simulations <- 100\n\n# Run the simulation\nace_positions <- lapply(num_shuffles_list, function(num_shuffles) {\n  simulate_ace_of_hearts_position(num_shuffles, num_simulations)\n})\n\n# Prepare data for the plot\ndf <- data.frame(\n  Num_Shuffles = rep(num_shuffles_list, each = num_simulations),\n  Ace_Position = unlist(ace_positions)\n)\n\n# Create a line plot with a ribbon in ggplot2\nggplot(df, aes(x = Num_Shuffles, y = Ace_Position)) +\n  geom_line() +\n  geom_ribbon(aes(ymin = Ace_Position - 5, ymax = Ace_Position + 5), fill = \"lightblue\", alpha = 0.3) +\n  geom_text(aes(label = Ace_Position), vjust = -0.5, hjust = 0.5, size = 3) +\n  labs(title = \"Ace of Hearts Position relative to Initial Position\",\n       x = \"Number of Shuffles\",\n       y = \"Ace of Hearts Position\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](Card-Shuffling_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n\nAbout the **faro** function: it simulates a faro shuffle on a deck of cards. It takes two parameters:\n\n-   **`deck`**: A numeric vector representing the deck of cards.\n\n-   **`num_shuffles`**: The number of faro shuffles to perform.\n\nThe function splits the deck into two halves, iterates through the halves, and interleaves the cards to perform a faro shuffle. It repeats this process for the specified number of shuffles and returns the resulting deck.\n\n### **Visualizing the Results**\n\nThe resulting visualization, created using Plotly, showcases the position of the ace of hearts over a range of shuffling scenarios. The black line represents the evolving position, while the light blue ribbon indicates a range of plus or minus 5 positions around the initial placement.\n\nThe interactivity of Plotly allows viewers to explore how the position of the ace of hearts changes as the number of shuffles increases. Hover over the line to see specific data points and observe the dynamic nature of the shuffling process.\n\n### **Conclusion**\n\nThrough this visual exploration, we gain insights into the inherent randomness of card shuffling. The fluctuating position of the ace of hearts highlights the complex interplay of probability and chance in card games.\n\nFeel free to experiment with the provided R code, adjusting parameters and exploring different aspects of card shuffling. The visual representation serves as a captivating way to understand the nuances of this seemingly simple yet intriguing process.\n\nStay tuned for more explorations and visualizations in future blog posts!\n",
    "supporting": [
      "Card-Shuffling_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}